@import helper.CSRF
@(dForm: DynamicForm)(implicit request: play.mvc.Http.Request)

<script>
    $(function () {
	    $(document).on('change', '#layoutFile', function () {
		    $('#upload-file-info').val(document.getElementById('layoutFile').files[0].name)
		    window.console && console.log('Display house layout');
		    // Display house layout
	    });
    });
</script>

<form action='@routes.HomeController.loadHouseFromFile("house")' method="post" enctype="multipart/form-data">
	<fieldset hidden>@CSRF.formField </fieldset>
	<div class="layoutTitle">Upload House Layout</div>
	<div class="paramBackground">
		<div class="input-group mb-3">
			<input type="text" class="form-control" id="upload-file-info" readonly>
			<label class="input-group-btn input-group-append">
				<span class="btn btn-primary">
					browse<input id="layoutFile" name="layoutFile" type="file" style="display: none;" onchange="$('#upload-file-info').val(document.getElementById('layoutFile').files[0].name);">
				</span>
			</label>
		</div>
		<button type="submit" class="btn btn-primary">Upload</button>
	</div>
</form>
<form action='@routes.HomeController.loadUsersFromFile("house")' method="post" enctype="multipart/form-data">
	<fieldset hidden>@CSRF.formField </fieldset>
	<div class="layoutTitle">Upload User Profiles</div>
	<div class="paramBackground">
		<div class="input-group mb-3">
			<input type="text" class="form-control" id="user-file-info" readonly>
			<label class="input-group-btn input-group-append">
				<span class="btn btn-primary">
					browse<input id="userFile" name="userFile" type="file" style="display: none;" onchange="$('#user-file-info').val(document.getElementById('userFile').files[0].name);">
				</span>
			</label>
		</div>
		<button type="submit" class="btn btn-primary">Upload</button>
	</div>
</form>
<div class="layoutTitle">Download User Profiles</div>
<div class="paramBackground">
	<a href='@routes.HomeController.saveUsersToFile()' class="btn btn-primary" target="_blank">Download</a>
</div>
